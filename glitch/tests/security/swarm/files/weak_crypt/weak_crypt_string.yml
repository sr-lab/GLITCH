version: 3.7

services:
  service_example:
    image: nginx:1.29.1-alpine3.22-perl@sha256:9322c38c12e68706f47d42b53622e1c52a351bd963574f4a157b3048d21772e5
    healthcheck:
      test: "curl --fail http://localhost:80/ || exit 1"
      interval: 30s
      retries: 5s
    command: '/bin/sh -c "wget -O - https://example.com/wow | md5sum > wow.txt"'
    logging:
      driver: elastic/elastic-logging-plugin
